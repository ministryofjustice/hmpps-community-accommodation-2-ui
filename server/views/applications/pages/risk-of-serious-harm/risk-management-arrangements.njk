{% extends "./_risk-of-serious-harm-screen.njk" %}
{% set pageName = "risk-management-arrangements" %}

{% block questions %}

  {% set mappaDetails %}
    {{
        formPageTextArea(
          {
            label: { 
              text: page.questions.mappaDetails.question, 
              classes: "govuk-label--s"
            },
            fieldName: "mappaDetails",
            hint: {
              text: page.questions.mappaDetails.hint
            }
          },
          fetchContext()
        )
    }}
  {% endset -%}

  {% set maracDetails %}
    {{
        formPageTextArea(
          {
            label: { 
              text: page.questions.maracDetails.question, 
              classes: "govuk-label--s"
            },
            fieldName: "maracDetails",
            hint: {
              text: page.questions.maracDetails.hint
            }
          },
          fetchContext()
        )
    }}
  {% endset -%}

  {% set iomDetails %}
    {{
        formPageTextArea(
          {
            label: { 
              text: page.questions.iomDetails.question, 
              classes: "govuk-label--s"
            },
            fieldName: "iomDetails",
            hint: {
              text: page.questions.iomDetails.hint
            }
          },
          fetchContext()
        )
    }}
  {% endset -%}

  <p class="govuk-body">
    You should check with Terry Midhurst's Community Probation Practitioner (CPP), 
    also known as Community Offender Manager (COM), for up-to-date risk management arrangements.
  </p>
  <p class="govuk-body">
    You can also check the 'Risk Management Plan' section in OASys.
  </p>

  <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible">

  {{ 
      formPageCheckboxes(
          {
            fieldName: "arrangements",
            hint: {
              text: page.questions.arrangements.hint
            },
            fieldset: {
              legend: {
                text: page.questions.arrangements.question,
                classes: "govuk-fieldset__legend--m"
              }
            },
            items: page.items(mappaDetails, maracDetails, iomDetails)
          }, 
          fetchContext()
      ) 
  }}

{% endblock %}